[alls]
deploy  ansible_host=192.168.1.177
consul-1 ansible_host=192.168.1.161
consul-2 ansible_host=192.168.1.162
consul-3 ansible_host=192.168.1.163
vault-1 ansible_host=192.168.1.164
vault-2 ansible_host=192.168.1.165
traefik ansible_host=192.168.1.170

[promtails]
; loki ansible_host=10.0.30.22  => to be installed on loki playbook or not ??
consul-1 ansible_host=192.168.1.161
consul-2 ansible_host=192.168.1.162
consul-3 ansible_host=192.168.1.163
vault-1 ansible_host=192.168.1.164
vault-2 ansible_host=192.168.1.165
traefik ansible_host=192.168.1.170
; runner ansible_host=192.168.1.166
; staging ansible_host=192.168.1.167

[k3ds]
; runner ansible_host=192.168.1.166
; staging ansible_host=192.168.1.167

; [runners]
; runner ansible_host=192.168.1.166

; [stagings]
; staging ansible_host=192.168.1.167

[traefiks]
traefik ansible_host=192.168.1.170

[vaults]
vault-1 ansible_host=192.168.1.164
vault-2 ansible_host=192.168.1.165

[consul_nodes]
vault-1 ansible_host=192.168.1.164
vault-2 ansible_host=192.168.1.165
deploy  ansible_host=192.168.1.177
traefik ansible_host=192.168.1.170
; runner ansible_host=192.168.1.166
; staging ansible_host=192.168.1.167

[consul_masters]
consul-1 ansible_host=192.168.1.161
consul-2 ansible_host=192.168.1.162
consul-3 ansible_host=192.168.1.163

# section pour les certificats SAN
san_consul_servers:
  consul-1:
    dns:
      - consul-1.dc1.consul
      - localhost
      - server.dc1.consul
    ip:
      - 192.168.1.161
  consul-2:
    dns:
      - consul-2.dc1.consul
      - localhost
      - server.dc1.consul
    ip:
      - 192.168.1.162
  consul-3:
    dns:
      - consul-3.dc1.consul
      - localhost
      - server.dc1.consul
    ip:
      - 192.168.1.163

san_consul_nodes:
  traefik:
    dns:
      - traefik.dc1.consul
      - localhost
      - client.dc1.consul
    ip:
      - 192.168.1.170
  deploy:
    dns:
      - deploy.dc1.consul
      - localhost
      - client.dc1.consul
    ip:
      - 192.168.1.177
  vault-1:
    dns:
      - vault-1.dc1.consul
      - localhost
      - client.dc1.consul
    ip:
      - 192.168.1.164
  vault-2:
    dns:
      - vault-2.dc1.consul
      - localhost
      - client.dc1.consul
    ip:
      - 192.168.1.165